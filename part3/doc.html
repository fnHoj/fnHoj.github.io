<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>自然的能源</title>
    <style>
        :root {
            color-scheme: dark;
            background: linear-gradient(#238 -8%, #114 8%);
            font-size: 24px;
            font-family: sans-serif;
            background-repeat: no-repeat;
            --vis-height: 400px;
        }
        h1 {
            text-align: center;
            line-height: 1.1em;
            font-weight: normal;
            margin-block-start: 0;
            margin-block-end: 0.5em;
        }
        h1 strong {
            color: unset;
            font-size: 150%;
        }
        h2 {
            width: max-content;
            margin-inline: auto;
            background-color: #fff;
            color: #238;
            padding-inline: 0.5em;
            font-weight: normal;
            border-radius: 0.25em;
        }
        #main {
            width: min(80%, 1000px);
            margin-inline: auto;
            margin-block: 4rem;
        }
        strong {
            color: #cdf;
        }
        strong strong {
            font-size: 200%;
            line-height: 1em;
        }
        .dynamic .afloat {
            block-size: var(--vis-height);
            inline-size: 80%;
            position: sticky;
            inset-block-start: calc(50vh - var(--vis-height) / 2);
            z-index: -1;
        }
        iframe {
            border: none;
        }
        .content {
            margin-inline-start: auto;
            width: 80%;
            inset-inline: 0;
        }
        .content > div {
            margin-block-start: calc(0.05 * var(--vis-height));
            background-color: #238;
            padding-block: 0.5em;
            padding-inline: 2em;
            border-radius: 0.5em;
        }
        .content > div:not(:last-of-type) {
            margin-block-end: calc(1.1 * var(--vis-height));
        }
        img {
            width: 100%;
        }
        .dot {
            width: 1em;
            height: 1em;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            background-color: #fff;
            vertical-align: text-bottom;
        }
        .dot > span {
            background-color: currentColor;
            width: var(--size);
            height: var(--size);
        }
        table {
            text-align: center;
            width: 100%;
        }
        th, td {
            padding-block: 0.25em;
            padding-inline: 1.5em;
        }
    </style>
</head>
<body>
    <div id="main">
        <h1><strong>自然的能源</strong><br/>风能的评估与利用</h1>
        <h2>风能</h2>
        <p>目前，风能是新能源的佼佼者，具有<strong>无污染</strong>、<strong>零碳排</strong>、<strong>可持续</strong>等优势。</p>
        <p>然而，风能最大挑战在于受天气条件影响大，有明显<strong>波动性</strong>、<strong>间歇性</strong>。</p>
        <p>因此，对风能的<strong><strong>量化建模</strong></strong>和<strong><strong>精准评估</strong></strong>是可再生能源可靠利用的基础，是未来可持续能源愿景的重要一环。</p>
        <h2>风能评估</h2>
        <div class="dynamic">
            <iframe id="chartiframe" class="afloat" src="blocks/"></iframe>
            <div class="content">
                <div id="prog0">
                    <p>我们将分析过往 20 年风速风向数据。</p>
                    <p><span class="dot" style="color: #04c; --size: 4px;"><span></span></span> 每小时平均风速<br/><span class="dot" style="color: #b00; --size: 6px;"><span></span></span> 每月极端风速</p>
                </div>
                <div>
                    <p><strong style="color: #8cf;">风速分布直方图</strong>：洞察全年风速规律，是估算发电潜力的量化基础。</p>
                    <p><strong style="color: #fcc;">极端风速直方图</strong>：追踪各月极端风速，为风机抗风安全设计提供关键依据。</p>
                </div>
                <div>
                    <p>计算得年均风速 <strong>7.6 m/s</strong>，属于风能资源较丰富级别，非常适合风力发电。</p>
                    <p>结合风机功率特性，计算得出单台风机每年可产出清洁电力约 <strong>1500 万度</strong>，足以满足一万户家庭每年用电需求。</p>
                </div>
                <div id="prog1">
                    <p><strong>50 年一遇极端风速</strong>是评估风机抗风设计的关键指标。它的建模计算，对保证风机达到预期寿命至关重要。</p>
                    <p>我们将使用 <strong>Gumbel 分布</strong>这一统计方法拟合过往<strong style="color: #fcc;">极端风速数据</strong>，进而推断未来数十年极端天气情况。</p>
                </div>
                <div>
                    <p>求解出分布的具体形态后，便可计算出 50 年一遇极端风速为 <strong>32 m/s</strong>。</p>
                    <p>这已经低于 IEC 为风机设定的 III 类最低安全标准。这意味着，在玉门运行的风机，设计保障已充分安全。</p>
                </div>
                <span style="display: block; block-size: calc(1.05 * var(--vis-height));"></span>
            </div>
        </div>
        <div class="content">
            <div>
                <p>此外，玉门风电站坐落于东西走向的峡谷中，“峡谷效应”使东西风更强劲集中。主要优势：</p>
                <img src="rose.svg"/>
                <ul>
                    <li>风力可预测，发电量稳定</li>
                    <li>风机不必频繁转向，减少机械磨损，延长使用寿命</li>
                    <li>机组错开排列，减少相互扰流，提升整体效率</li>
                </ul>
            </div>
        </div>
        <h2>产业集群</h2>
        <p>玉门清洁能源富足，为当地能源密集型产业发展奠定了良好基础。</p>
        <table>
            <thead>
                <tr>
                    <th>绿氢</th>
                    <th>储能</th>
                    <th>化工</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>利用富足风电进行电解水制氢，打通产-储-运全套产业链</td>
                    <td>为缓解风能与光伏的波动性，采用抽水蓄电等方法调峰济谷</td>
                    <td>发挥能源优势，设计节水工艺，发展低碳化工</td>
                </tr>
            </tbody>
        </table>
        <h2>总结</h2>
        <p>风电目前是可再生能源的主力军。对风能条件的精准评估，是实现未来可持续能源愿景的技术基础。</p>
        <p>玉门以优越的自然条件，实现了从石油城市到新能源综合发展的转变，为西北乃至全国未来绿色转型设立了榜样。</p>
    </div>

    <script>
        const boxchart = document.getElementById("boxchart");
        const prog0 = document.getElementById("prog0");
        const prog1 = document.getElementById("prog1");
        const chartiframe = document.getElementById("chartiframe");
        const dynamic = document.getElementsByClassName("dynamic")[0];

        function calcProg(x, l, r) {
            return (x - l) / (r - l);
        }

        function setCenterPos() {
            const center = document.documentElement.scrollTop + document.documentElement.clientHeight / 2;
            chartiframe.contentWindow.postMessage({prog: calcProg(center, prog0.offsetTop, prog1.offsetTop)});
        }

        addEventListener("message", (e) => {
            if (typeof e.data.centerPos === "number")
                setCenterPos(e.data.centerPos);
        })
        addEventListener("resize", () => setCenterPos());
        addEventListener("scroll", () => setCenterPos());
        addEventListener("wheel", () => setCenterPos());
    </script>
</body>
</html>